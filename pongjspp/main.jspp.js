// Compiled with JS++ v.0.9.2

!function(){!function(){function f(g){g.pos=new Vec2(0,0);g.dim=new Vec2(2.5,10);g.halfDim=new Vec2(1.25,5);g.vel=new Vec2(0,0);g.tickVel=new Vec2(0,0);g.bounce=false;return(g);}function m(p,q,u,z,B,C){p.pos=new Vec2(0,0);p.dim=new Vec2(2.5,10);p.halfDim=new Vec2(1.25,5);p.vel=new Vec2(0,0);p.tickVel=new Vec2(0,0);p.bounce=false;q= +q;u= +u;z= +z;B= +B;C=!!C;p.pos.x= +q;p.pos.y= +u;p.dim.x= +z;p.dim.y= +B;p.halfDim.x= +(z/2);p.halfDim.y= +(B/2);p.bounce=!!C;return(p);}function D(F,G,H,I,J){F.pos=new Vec2(0,0);F.dim=new Vec2(2.5,10);F.halfDim=new Vec2(1.25,5);F.vel=new Vec2(0,0);F.tickVel=new Vec2(0,0);F.bounce=false;G= +G;H= +H;I= +I;J= +J;F.pos.x= +G;F.pos.y= +H;F.dim.x= +I;F.dim.y= +J;F.halfDim.x= +(I/2);F.halfDim.y= +(J/2);return(F);}var params=({});var node=!!(typeof window==="undefined");if(!node){window.location.search.slice(1).split("&").forEach((function(K){K=typeof K=='string'?K+'':'';var L=function(item){item=item+'';var M=item.split("=");var N=M[1];var P=(N!=null?N:"")+'';var Q=params;var R=item.split("=");var S=R[0];var U=(S!=null?S:"n")+'';var V=U+'';Q[V]=P+'';};var W=L.call(this,K);W=W;return(W);}));}var X=params;var Y=X["ticks"];var Z=(Y!=null?Y:"60")+'';var aa=Z+'';var ab= +(aa|0)|0;var TICKS_PER_SECOND=ab|0;var ac=params;var ad=ac["speed"];var ae=(ad!=null?ad:"90")+'';var af=ae+'';var ag= +(af|0)|0;var SPEED=ag|0;var ah=params;var ai=ah["time"];var aj=(ai!=null?ai:"1")+'';var ak=aj+'';var al= +(ak|0)|0;var TIME=al|0;var AI=!({}).hasOwnProperty.call(params,"noai");var SCORE=!({}).hasOwnProperty.call(params,"noscore");var RAINBOW=!!({}).hasOwnProperty.call(params,"r");var CANVAS=!!({}).hasOwnProperty.call(params,"c");var am=!!CANVAS;if(am){var an=params;var ao=an["width"];var ap=(ao!=null?ao:"10")+'';var aq=ap+'';var ar= +(aq|0)|0;}var as=(am?ar:1)|0;var SCREENMULTIPLIER=as|0;var MAXBOUNCEANGLE= +(3*Math.PI/12);var towards=false;var score1=0|0;var score2=0|0;function Vec2(x,y){this.x=0;this.y=0;x= +x;y= +y;this.x= +x;this.y= +y;}Vec2.prototype.at="Vec2";function PhysicsObject(){}PhysicsObject.prototype.at="PhysicsObject";function au(){var outVec2=new Vec2(0,0);outVec2.x= +(this.pos.x+50-this.halfDim.x);outVec2.y= +(this.pos.y+50-this.halfDim.y);return(outVec2);}function av(vel){vel= +vel;this.vel.x= +vel;this.tickVel.x= +(vel/TICKS_PER_SECOND);}function aw(vel){vel= +vel;this.vel.y= +vel;this.tickVel.y= +(vel/TICKS_PER_SECOND);}function PhysicScene(objs){this.objects=[];for(var ax=0;ax<(objs.length|0); ++ax){var ay=objs[ax];var head=ay;Array.prototype.push.apply(this.objects,[head])|0;}}PhysicScene.prototype.at="PhysicScene";function az(){var aA=this.objects;main:for(var index1=0;index1<(aA.length|0); ++index1){var aB=this.objects;var aC=index1|0;var aD=aB[aC];var aE=f(new PhysicsObject());var aF=aD!=null?aD:aE;var head=aF;var aG=this.objects;for(var index2=0;index2<(aG.length|0); ++index2){if(index1!=index2){var aH=this.objects;var aI=index2|0;var aJ=aH[aI];var aK=f(new PhysicsObject());var aL=aJ!=null?aJ:aK;var item=aL;var aM=head;var aN=aM.pos;var aO= +aN.x;var aP=head;var aQ=aP.tickVel;var aR= +aQ.x;var aS= +(aO+aR);var aT=item;var aU=aT.pos;var aV= +aU.x;var aW=item;var aX=aW.tickVel;var aY= +aX.x;var aZ= +(aV+aY);var ba= +(aS-aZ);var bb= +Math.abs(ba);var bc=head;var bd=bc.halfDim;var be= +bd.x;var bf=item;var bg=bf.halfDim;var bh= +bg.x;var bi= +(be+bh);var bj=!!(bb<bi);if(bj){var bk=head;var bl=bk.pos;var bm= +bl.y;var bn=head;var bo=bn.tickVel;var bp= +bo.y;var bq= +(bm+bp);var br=item;var bs=br.pos;var bt= +bs.y;var bu=item;var bv=bu.tickVel;var bw= +bv.y;var bx= +(bt+bw);var by= +(bq-bx);var bz= +Math.abs(by);var bA=head;var bB=bA.halfDim;var bC= +bB.y;var bD=item;var bE=bD.halfDim;var bF= +bE.y;var bG= +(bC+bF);var bH=!!(bz<bG);}var bI=!!(bj&&bH);if(bI){if(head.bounce){var relativeIntersectY= +(item.pos.y+item.tickVel.y+item.halfDim.y-(head.pos.y+head.tickVel.y));var normalizedRelativeIntersectionY= +((relativeIntersectY-item.halfDim.y)/item.halfDim.y);var bounceAngle= +(normalizedRelativeIntersectionY*MAXBOUNCEANGLE);towards=!towards;av.call(head,(towards? -1:1)*SPEED* +Math.cos(bounceAngle));aw.call(head,SPEED* - +Math.sin(bounceAngle));}else {continue main;}}}}head.pos.x= +(head.pos.x+head.tickVel.x);if(head.pos.y-head.halfDim.y+head.tickVel.y> -50&&head.pos.y+head.halfDim.y+head.tickVel.y<50){head.pos.y= +(head.pos.y+head.tickVel.y);}}}function Player(x){this.physicsObject=D(new PhysicsObject(),0,0,2.5,10);x= +x;this.physicsObject.pos.x= +x;}Player.prototype.at="Player";function Ball(){this.physicsObject=m(new PhysicsObject(),0,0,2.5,2.5,true);var bJ= +Math.random();var bK= +(bJ*2);var bL= +Math.floor(bK);var bM=bL|0;var bN=!!bM;towards=!!bN;bO.call(this);}Ball.prototype.at="Ball";function bO(){av.call(this.physicsObject,((towards?1:0)-0.5)*SPEED);var bP=this.physicsObject;var bQ= +Math.random();var bR= +(bQ*2);var bS= +Math.floor(bR);var bT= +(bS-0.5);var bU=SPEED|0;var bV= +(bT*bU);aw.call(bP,bV);this.physicsObject.pos.x=0;this.physicsObject.pos.y=0;}function bW(){if(this.physicsObject.pos.x+this.physicsObject.halfDim.x+this.physicsObject.tickVel.x>50||this.physicsObject.pos.x-this.physicsObject.halfDim.x+this.physicsObject.tickVel.x< -50){bO.call(this);if(towards){score2=score2+1|0;}else {score1=score1+1|0;}towards=!towards;}if(this.physicsObject.pos.y+this.physicsObject.halfDim.y+this.physicsObject.tickVel.y>50||this.physicsObject.pos.y-this.physicsObject.halfDim.y+this.physicsObject.tickVel.y< -50){aw.call(this.physicsObject,this.physicsObject.vel.y* -1);}}function AsciiCanvas(){this.canvas="";bX.call(this);}AsciiCanvas.prototype.at="AsciiCanvas";function bX(){var bY=Array(100>0?100+1:0).join("-")+'';var bZ=bY+'\n';var ca=Array(100>0?100+1:0).join(bZ)+'';this.canvas=ca+'';}function cb(index,character){index=index|0;character=character+'';var cc=this.canvas+'';var cd=cc.substring(0,index)+'';var ce=character+'';var cf=cd+ce+'';var cg=this.canvas+'';var ch=index+1|0;var ci=cg.substring(ch)+'';var cj=cf+ci+'';this.canvas=cj+'';}function ck(x,y,character){x=x|0;y=y|0;character=character+'';cb.call(this,99*y+2*y+x,character);}function cl(x,y,w,h){x=x|0;y=y|0;w=w|0;h=h|0;for(var ih=0|0;ih<h;ih=ih+1|0){for(var iw=0|0;iw<w;iw=iw+1|0){ck.call(this,x+iw,y+ih,"#");}}}var player1=new Player( -40);var player2=new Player(40);var ball=new Ball();var physicScene=new PhysicScene([player1.physicsObject,player2.physicsObject,ball.physicsObject]);function keyDown(key){key=key+'';switch(key.toLowerCase()){case "arrowup":aw.call(player1.physicsObject, -SPEED);break;case "arrowdown":aw.call(player1.physicsObject,SPEED);break;case "w":if(!AI){aw.call(player2.physicsObject, -SPEED);}break;case "s":if(!AI){aw.call(player2.physicsObject,SPEED);}break;}}function keyUp(key){key=key+'';switch(key.toLowerCase()){case "arrowup":if(player1.physicsObject.vel.y<0){aw.call(player1.physicsObject,0);}break;case "arrowdown":if(player1.physicsObject.vel.y>0){aw.call(player1.physicsObject,0);}break;case "w":if(player2.physicsObject.vel.y<0&&!AI){aw.call(player2.physicsObject,0);}break;case "s":if(player2.physicsObject.vel.y>0&&!AI){aw.call(player2.physicsObject,0);}break;}}var frame="";var obj0;var obj1;var obj2;var s1;var s2;var asciiCanvasDiv;var mainCanvas;if(!node){if(!CANVAS){var cm=physicScene;var cn=cm.objects;for(var index=0;index<(cn.length|0); ++index){var co=physicScene;var cq=co.objects;var cr=index|0;var cs=cq[cr];var ct=f(new PhysicsObject());var cu=cs!=null?cs:ct;var obj=cu;frame+="<div class=\""+(obj.bounce?"ball":"player")+"\" id=\"obj"+(index+"")+'\"></div>';}if(SCORE){frame+="<div class=\"score\" id=\"s1\">"+(score1+"")+'</div>';frame+="<div class=\"score\" id=\"s2\">"+(score2+"")+'</div>';}}else {frame="<canvas id=\"mainCanvas\"></canvas>";}frame+="<div id=\"asciiCanvas\"></div>";document.body.innerHTML=frame;obj0=document.getElementById("obj0");obj1=document.getElementById("obj1");obj2=document.getElementById("obj2");s1=document.getElementById("s1");s2=document.getElementById("s2");asciiCanvasDiv=document.getElementById("asciiCanvas");mainCanvas=document.getElementById("mainCanvas");}if(!CANVAS){if(RAINBOW){obj0.classList.add("rainbow");obj1.classList.add("rainbow");obj2.classList.add("rainbow");s1.classList.add("rainbow");s2.classList.add("rainbow");}}function drawCSS(){var cv=player1;var cw=cv.physicsObject;var cx=au.call(cw);var cy= +cx.x;var cz=cy+'';var cA=cz+'%';var cB=obj0;var cC=cB.style;cC.left=cA;var cD=player1;var cE=cD.physicsObject;var cF=au.call(cE);var cG= +cF.y;var cH=cG+'';var cI=cH+'%';var cJ=obj0;var cK=cJ.style;cK.top=cI;obj0.style.width=player1.physicsObject.dim.x+'%';obj0.style.height=player1.physicsObject.dim.y+'%';var cL=player2;var cM=cL.physicsObject;var cN=au.call(cM);var cO= +cN.x;var cP=cO+'';var cQ=cP+'%';var cR=obj1;var cS=cR.style;cS.left=cQ;var cT=player2;var cU=cT.physicsObject;var cV=au.call(cU);var cW= +cV.y;var cX=cW+'';var cY=cX+'%';var cZ=obj1;var da=cZ.style;da.top=cY;obj1.style.width=player2.physicsObject.dim.x+'%';obj1.style.height=player2.physicsObject.dim.y+'%';var db=ball;var dc=db.physicsObject;var dd=au.call(dc);var de= +dd.x;var df=de+'';var dg=df+'%';var dh=obj2;var di=dh.style;di.left=dg;var dj=ball;var dk=dj.physicsObject;var dl=au.call(dk);var dm= +dl.y;var dn=dm+'';var dp=dn+'%';var dq=obj2;var dr=dq.style;dr.top=dp;obj2.style.width=ball.physicsObject.dim.x+'%';obj2.style.height=ball.physicsObject.dim.y+'%';if(SCORE){s1.innerText=score1+"";s2.innerText=score2+"";}}function drawCanvas(){var ctx=mainCanvas.getContext("2d");mainCanvas.width=100*SCREENMULTIPLIER;mainCanvas.height=100*SCREENMULTIPLIER;ctx.fillStyle="#FFFFFF";ctx.fillRect(0,0,100*SCREENMULTIPLIER,100*SCREENMULTIPLIER);ctx.fillStyle="#000000";ctx.fillRect(au.call(player1.physicsObject).x*SCREENMULTIPLIER,au.call(player1.physicsObject).y*SCREENMULTIPLIER,player1.physicsObject.dim.x*SCREENMULTIPLIER,player1.physicsObject.dim.y*SCREENMULTIPLIER);ctx.fillRect(au.call(player2.physicsObject).x*SCREENMULTIPLIER,au.call(player2.physicsObject).y*SCREENMULTIPLIER,player2.physicsObject.dim.x*SCREENMULTIPLIER,player2.physicsObject.dim.y*SCREENMULTIPLIER);ctx.fillRect(au.call(ball.physicsObject).x*SCREENMULTIPLIER,au.call(ball.physicsObject).y*SCREENMULTIPLIER,ball.physicsObject.dim.x*SCREENMULTIPLIER,ball.physicsObject.dim.y*SCREENMULTIPLIER);if(SCORE){ctx.font='48px serif';ctx.fillText(score1+"",20*SCREENMULTIPLIER,10*SCREENMULTIPLIER);ctx.fillText(score2+"",80*SCREENMULTIPLIER,10*SCREENMULTIPLIER);}}var asciiCanvas=new AsciiCanvas();function tick(){if(AI){var ds=ball;var dt=ds.physicsObject;var du=dt.pos;var dv= +du.y;var dw=player2;var dx=dw.physicsObject;var dy=dx.pos;var dz= +dy.y;var dA= +(dv-dz);var dB= +Math.abs(dA);var dC=player2;var dD=dC.physicsObject;var dE=dD.halfDim;var dF= +dE.y;var dG=!!(dB>dF);if(dG){if(ball.physicsObject.pos.y>player2.physicsObject.pos.y){aw.call(player2.physicsObject,SPEED);}else if(ball.physicsObject.pos.y<player2.physicsObject.pos.y){aw.call(player2.physicsObject, -SPEED);}}else {aw.call(player2.physicsObject,0);}}az.call(physicScene);bW.call(ball);if(!node){if(!CANVAS){drawCSS();}else {drawCanvas();}}else {console.clear();bX.call(asciiCanvas);cl.call(asciiCanvas,au.call(player1.physicsObject).x|0,au.call(player1.physicsObject).y|0,player1.physicsObject.dim.x|0,player1.physicsObject.dim.y|0);cl.call(asciiCanvas,au.call(player2.physicsObject).x|0,au.call(player2.physicsObject).y|0,player2.physicsObject.dim.x|0,player2.physicsObject.dim.y|0);cl.call(asciiCanvas,au.call(ball.physicsObject).x|0,au.call(ball.physicsObject).y|0,ball.physicsObject.dim.x|0,ball.physicsObject.dim.y|0);var dH=asciiCanvas;var dI=score1|0;var dJ=dI+'';var dK=dJ.slice(0,1)+'';ck.call(dH,20,10,dK);var dL=asciiCanvas;var dM=score2|0;var dN=dM+'';var dO=dN.slice(0,1)+'';ck.call(dL,80,10,dO);console.log(asciiCanvas.canvas);aw.call(player1.physicsObject,0);}}if(!node){document.body.addEventListener("keydown",(function(event){var dP=event.key;var dQ=dP!=null?dP+'':'';keyDown(dQ);}));document.body.addEventListener("keyup",(function(event){var dR=event.key;var dS=dR!=null?dR+'':'';keyUp(dS);}));}else {var stdin=process.stdin;stdin.setRawMode(true);stdin.resume();stdin.setEncoding('utf8');stdin.on('data',(function(dT){dT=typeof dT=='string'?dT+'':'';var dU=function(key){key=key+'';switch(key){case "\u001b[A":keyDown("arrowup");break;case "\u001b[B":keyDown("arrowdown");break;default:keyDown(key);break;}};var dV=dU.call(this,dT);dV=dV;return(dV);}));}setInterval((function(){var dW=tick;var dX=dW.call(this);dX=dX;return(dX);}),1000*TIME/TICKS_PER_SECOND);}();}();